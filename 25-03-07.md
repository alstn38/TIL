### FSCalendar

```swift
let calendar = FSCalendar()
```

ìƒì„±í•˜ê³  Layoutì„ ì¡ìœ¼ë©´ ëœë‹¤.

ì•„ë˜ëŠ” ê¸°ë³¸ ë·°ì´ë‹¤. (red: Today, blue: select)

<img width="401" alt="Image" src="https://github.com/user-attachments/assets/6d0bd701-05ca-4215-994d-6092165651c5" />

### ì´ë²¤íŠ¸ í‘œì‹œí•˜ê¸°

delegate, datasourceë¥¼ selfí•˜ì—¬ ì„¤ì •ê°’ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.

```swift
/// í•´ë‹¹ ë‚ ì§œì— ì´ë²¤íŠ¸ë¥¼ í‘œì‹œí•˜ëŠ” ì ì„ í‘œì‹œí•œë‹¤. (ìµœëŒ€ 3ê°œ)
func calendar(_ calendar: FSCalendar, numberOfEventsFor date: Date) -> Int {
    print(#function, date)
    return 2
}
```

<img width="401" alt="Image" src="https://github.com/user-attachments/assets/63e96ad7-8fc3-44f1-8909-884ac2aad29a" />

### ì„ íƒ ìº˜ë¦°ë” ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°

```swift
/// calendarê°€ ì„ íƒë˜ì—ˆì„ ê²½ìš°
func calendar(_ calendar: FSCalendar, didSelect date: Date, at monthPosition: FSCalendarMonthPosition) {
    print(#function, date)
}
```

ì‹¤ì œ ì„ íƒëœ ë‚ ì§œê°€ 27ì¼ì´ë©´, **2025-03-26 15:00:00 +0000** ì´ë ‡ê²Œ ì„ íƒì´ëœë‹¤.

ì˜êµ­ í‘œì¤€ì‹œ ê¸°ì¤€ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ ì™¸ ê¸°ëŠ¥ë“¤

```swift
/// í•´ë‹¹ ë‚ ì§œ ì´ë²¤íŠ¸ í‘œì‹œë˜ëŠ” ì  ëŒ€ì‹  ì´ë¯¸ì§€ë¡œ í‘œì‹œ
func calendar(_ calendar: FSCalendar, imageFor date: Date) -> UIImage? {
    return UIImage(systemName: "star")
}

/// 27, 28ê³¼ ê°™ì€ ì¼ìˆ˜ ëŒ€ì‹  ì§€ì •ëœ Stringìœ¼ë¡œ ë³€ê²½
func calendar(_ calendar: FSCalendar, titleFor date: Date) -> String? {
    return "ë‚ ì§œ"
}

/// í•´ë‹¹ ë‚ ì§œ ì´ë²¤íŠ¸ í‘œì‹œë˜ëŠ” ìœ„ì¹˜ì— String í‘œì‹œí•˜ê¸°
func calendar(_ calendar: FSCalendar, subtitleFor date: Date) -> String? {
    return "ë¯¼ìˆ˜"
}
```

### ì„ íƒë‚ ì§œì— ë°ì´í„° í•„í„°í•´ì„œ ê°€ì ¸ì˜¤ê¸°

```swift
/// calendarê°€ ì„ íƒë˜ì—ˆì„ ê²½ìš°
func calendar(_ calendar: FSCalendar, didSelect date: Date, at monthPosition: FSCalendarMonthPosition) {
    let start = Calendar.current.startOfDay(for: date)
    let end = Calendar.current.date(
        byAdding: .day,
        value: 1,
        to: start
    )!
    
    // ë‚ ì§œë¥¼ 00:00 ~ 23:59ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼í•¨.
    // Realm where filterê°€ ì—†ì—ˆì„ ê²½ìš°ì—ëŠ”, iOS NSPredicateë¥¼ ì‚¬ìš©í–ˆë‹¤.
    let predicate = NSPredicate(format: "registerDate >= %@ && registerDate < %@", start as NSDate, end as NSDate)
    
    // realm ì¿¼ë¦¬ í†µí•´ì„œ ì¡°íšŒ
    let realm = try! Realm()
    let result = realm.objects(MSTable.self).filter(predicate)
    dump(result)
}
```

Q: 

<aside>
ğŸ’¡

ì„ íƒí•œ ë‚ ì§œë„ ì˜êµ­ í‘œì¤€ì‹œì´ê³ , ì €ì¥í•œ ë°ì´í„°ë„ ì˜êµ­ í‘œì¤€ì‹œ ì¼ ê²½ìš°ì—

í•œêµ­ê³¼ í•˜ë£¨ë‹¨ìœ„ê°€ ì°¨ì´ë‚˜ëŠ” ì‹œê°„ëŒ€ì— ë°ì´í„°ë¥¼ ì €ì¥í•  ê²½ìš°ì—ë„
ì§€ê¸ˆê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•´ë„ ì˜ ì‘ë™í•˜ëŠ” ê±´ê°€ìš”?

í•´ë‹¹ ë¶€ë¶„ì´ ì–´ë ¤ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤!!

</aside>

A:

<aside>
ğŸ’¡

í•œêµ­ê³¼ ì‹œê°„ëŒ€ê°€ ë‹¤ë¥¸ ê²½ìš°ì—ë„ ë°ì´íŠ¸ í¬ë§·í„° ì ìš©ë§Œ ì˜ í•˜ë©´ ì‹œê°„ì„ ì˜ë„ì ìœ¼ë¡œ ì¡°ì‘ì„ í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤!! ì‹œë®¬/í°ì˜ ì§€ì—­/ë‚ ì§œë¥¼ ë³€ê²½í•˜ê³  í…ŒìŠ¤íŠ¸ í•´ë³´ì…”ë„ ì¢‹ì„ê²ƒ ê°™ìŠµë‹ˆë‹¤!!

</aside>

### ì´ë¯¸ì§€ ì €ì¥í•˜ê¸°

- UIImage â†’ Data â†’ UIImage (ì‰¬ìš´ ë°©ë²•)

1. ê°¤ëŸ¬ë¦¬ì— ì‚¬ì§„ì´ ë“¤ì–´ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë„íë¨¼íŠ¸ í´ë”ì— ë‹¤ì‹œ ì €ì¥í•œë‹¤.

Why? â†’ ê°¤ëŸ¬ë¦¬ì™€, ë„íë¨¼íŠ¸ë¥¼ ì™œ ë‘˜ ë‹¤ ì €ì¥í•´ì•¼í• ê¹Œ?

1. ê°¤ëŸ¬ë¦¬ url linkë¡œ Realmì— ì €ì¥í•œë‹¤. (ê°¤ëŸ¬ë¦¬ì—ì„œ ìœ„ì¹˜ë¥¼ ì´ë™í•˜ê±°ë‚˜, ì‚­ì œí•˜ë©´ ì°¾ì„ ìˆ˜ ì—†ê²Œëœë‹¤)

UIImage â†’ Documentí´ë”ì— ì €ì¥í•˜ê¸°

```swift
func saveImageToDocument(image: UIImage,fileName: String) {
    // Documents í´ë” ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
    guard let documentDirectory = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first else { return }
    
    // ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ê²½ë¡œ(íŒŒì¼ëª…) ì§€ì •
    // appendingPathExtension
    let fileURL = documentDirectory.appendingPathComponent("\(fileName).jpg")
    
    
    // ì´ë¯¸ì§€ ìš©ëŸ‰ ì¤„ì´ê¸°: ì••ì¶•, í•´ìƒë„ ì¡°ì ˆ, ë¦¬ì‚¬ì´ì§•, ë‹¤ìš´ ìƒ˜í”Œë§
    guard let data = image.jpegData(compressionQuality: 0.5) else { return }
    
    // ì‹¤ì œ ì €ì¥í•˜ë ¤ëŠ” ì´ë¯¸ì§€ íŒŒì¼ (ë°ì´í„° ìš©ëŸ‰ ì²´í¬ë¥¼ í•´ì•¼í•¨)
    do {
        try data.write(to: fileURL)
    } catch {
        
    }
}
```

Document ê²½ë¡œì—ì„œ íŒŒì¼ ê°€ì ¸ì˜¤ê¸°

```swift
func loadImageToDocument(fileName: String) -> UIImage? {
    // Documents í´ë” ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
    guard let documentDirectory = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first else { return nil }
    
    // ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ê²½ë¡œ(íŒŒì¼ëª…) í™•ì¸
    // appendingPathExtension
    let fileURL = documentDirectory.appendingPathComponent("\(fileName).jpg")
    
    // í•´ë‹¹ ê²½ë¡œì— ì‹¤ì œë¡œ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
    if FileManager.default.fileExists(atPath: fileURL.path()) {
        return UIImage(contentsOfFile: fileURL.path())
    } else {
        return nil
    }
}
```

ì´ë•Œ í•˜ë‚˜ì˜ í…Œì´ë¸” rowë‹¹ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ë§Œ ìˆë‹¤ê³  í•˜ë©´ primary key(id)ë¡œ ì‚¬ì§„ ëª…ì„ ì €ì¥í•˜ê³  ê°€ì ¸ì˜¤ê²Œ ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

### Document ì´ë¯¸ì§€ ì‚­ì œí•˜ê¸°

Realmì—ì„œ í•´ë‹¹ íŒŒì¼ì„ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë¥¼ ì§€ì› ë‹¤ë©´ Documnetì—ë„ ì €ì¥ë˜ì–´ìˆëŠ” ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì‚­ì œí•´ì•¼í•œë‹¤.

```swift
func removeImageFromDocument(filename: String) {
    guard let documentDirectory = FileManager.default.urls(
        for: .documentDirectory,
        in: .userDomainMask).first else { return }
    
    let fileURL = documentDirectory.appendingPathComponent("\(filename).jpg")
    
    if FileManager.default.fileExists(atPath: fileURL.path()) {
        
        do {
            try FileManager.default.removeItem(atPath: fileURL.path())
        } catch {
            print("file remove error", error)
        }
        
    } else {
        print("file no exist")
    }
}
```

### ìƒê°í•´ë³¼ì 

í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ì—¬ëŸ¬ì¥ ì‚¬ì§„ì´ ìˆë‹¤ë©´?

1. Realm DB Schemaë¥¼ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€?
2. ì´ë¯¸ì§€ íŒŒì¼ëª… ê·œì¹™ì„ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€?
